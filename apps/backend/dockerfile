FROM node:22

#install pnpm globally
RUN npm i -g pnpm@9.15.9

#Setting app directory
WORKDIR /app

EXPOSE 4000

CMD sh -lc "cd /app && pnpm --version && pnpm install --frozen-lockfile && pnpm --filter ./apps/backend run dev"